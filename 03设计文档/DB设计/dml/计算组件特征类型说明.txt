


特征类型基类

public class CharTypeBoard {
	//在所有CharType类init里注册singleton bean object
	
	//ModuleMapper<module-class-path, module-bean-object>
	static final HashMap<String, ICharType> mapper = new HashMap<String, ICharType>();
	
	//获取组件class-path to object映射器 
	static Mapper getMapper();
}

public class CharValue {
	String cmptChar;
	String rawValue;
	JsonObject ObjValue;
	String warningMsg;
}

@service
public interface ICharType {
	//方法失败或异常抛出moduleException，组件类实现该接口，适当封装一些中间abstract组件类以便复用
	
	
	////////////////////////////////////组件bean初始化//////////////////////////////////////////
	
	//必须
	@postconstruct
	void register() {
		CharTypeBoard.getMapper().put(this.getClass().getName(), this);
	}
	
	
	//////////////////////////////节点增删查和参数更改事件相关//////////////////////////////////
	
	//是否捕获特征值新增事件
	//返回false，否
	//返回true，是
	boolean catchCreateValue();

	//发生特征值新增时（创建对象，设置对象内容）
	void onCreateValue(CharValueContentDto<char, charValue>);
	
	//是否捕获特征值删除事件
	//返回false，否
	//返回true，是
	boolean catchDeleteValue();
	
	//发生特征值删除时（删除对象）
	void onDeleteValue(CharValueContentDto<char, charValue>);
	
	//是否捕获特征值查询事件
	//返回false，否
	//返回true，是
	boolean catchQueryValue();
	
	//发生特征值查询时（展开对象，设置对象内容）
	void onQueryValue(CharValueContentDto<char, charValue>);
	
	//是否捕获特征值更改事件
	//返回false，否
	//返回true，是
	boolean catchUpdateValue();

	//发生特征值更改时（更新对象，设置对象内容，updateCharValue传入对象修改内容）
	void onUpdateValue(CharValueContentDto<char, charValue>, updateCharValue);
	
	//必须，校验特征值正确性和合法性
	//返回false，不通过
	//返回true，通过
	boolean validateValue(CharValueContentDto<char, charValue>);
}


